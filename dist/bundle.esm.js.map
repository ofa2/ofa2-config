{"version":3,"file":"bundle.esm.js","sources":["../src/index.js"],"sourcesContent":["import _ from 'lodash';\nimport filePathOneLayer from '@ofa2/file-path-one-layer';\nimport path from 'path';\n\nfunction lift() {\n  let configPath = path.join(this.projectPath, 'config');\n\n  this.config = {\n    paths: {\n      projectPath: this.projectPath,\n      config: configPath,\n      envConfig: path.join(configPath, 'env'),\n    },\n  };\n\n  /* eslint-disable global-require */\n  /* eslint-disable import/no-dynamic-require */\n  return filePathOneLayer(configPath)\n    .then((files) => {\n      _.forEach(files, (file) => {\n        let config = require(file.path);\n        return _.merge(this.config, {\n          [file.name]: config.default ? config.default : config,\n        });\n      });\n    })\n    .then(() => {\n      let envPath = path.join(this.config.paths.envConfig, this.environment);\n      let config = require(envPath);\n      _.merge(this.config, config.default ? config.default : config);\n    })\n    .then(() => {\n      return this;\n    });\n}\n\nexport default lift;\n"],"names":["lift","configPath","path","join","projectPath","config","filePathOneLayer","then","files","forEach","file","require","_","merge","name","default","envPath","paths","envConfig","environment"],"mappings":";;;;AAIA,SAASA,IAAT,GAAgB;MACVC,aAAaC,KAAKC,IAAL,CAAU,KAAKC,WAAf,EAA4B,QAA5B,CAAjB;OAEKC,MAAL,GAAc;WACL;mBACQ,KAAKD,WADb;cAEGH,UAFH;iBAGMC,KAAKC,IAAL,CAAUF,UAAV,EAAsB,KAAtB;;GAJf;;;;;SAUOK,iBAAiBL,UAAjB,EACJM,IADI,CACEC,KAAD,IAAW;MACbC,OAAF,CAAUD,KAAV,EAAkBE,IAAD,IAAU;UACrBL,SAASM,QAAQD,KAAKR,IAAb,CAAb;;aACOU,EAAEC,KAAF,CAAQ,KAAKR,MAAb,EAAqB;SACzBK,KAAKI,IAAN,GAAaT,OAAOU,OAAP,GAAiBV,OAAOU,OAAxB,GAAkCV;OAD1C,CAAP;KAFF;GAFG,EASJE,IATI,CASC,MAAM;QACNS,UAAUd,KAAKC,IAAL,CAAU,KAAKE,MAAL,CAAYY,KAAZ,CAAkBC,SAA5B,EAAuC,KAAKC,WAA5C,CAAd;;QACId,SAASM,QAAQK,OAAR,CAAb;;MACEH,KAAF,CAAQ,KAAKR,MAAb,EAAqBA,OAAOU,OAAP,GAAiBV,OAAOU,OAAxB,GAAkCV,MAAvD;GAZG,EAcJE,IAdI,CAcC,MAAM;WACH,IAAP;GAfG,CAAP;;;;;"}